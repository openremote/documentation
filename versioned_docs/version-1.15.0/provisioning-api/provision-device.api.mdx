---
id: provision-device
title: "Provisions a new device for the user"
description: "Provisions a new device, creating both an Asset to represent it and a Service Account for the device to connect over MQTT. The asset type is selected based on the provided modelName. If none matches, an error is reported."
sidebar_label: "Provisions a new device for the user"
hide_title: true
hide_table_of_contents: true
api: eJzdVk1v20YQ/SuLOSUAQ8lWPlqeqthBIcBuFFsGWgg+jMiRuMlyl5ldShYE/fdiltSX1dRAkVN1oqjZmbfvzbzRBlxNjEE7Oyogg5rdUnvt7DUtdU6QQEE+Z11LBGQw3v3uFSpLK1XEuETlTBi0XaiZC6VCq4beU1DBKaaayZMNSgeFtlCo7onllBrmuWtsUHPHKpTUJZNDubOW8qDckljdfplMUjUpSWGbdF2T0l55MpQHKtQMPRXK2ZgkXqGgQlWuIPMHVpSq0VxZZ0lVGPKSfCIAidmxpGGqHQcqUkiA6XtDPnx0xRqyDeTOBrJBHrGujc4jU72vXsjYgM9LqlCeBBJk4GZfKQ9dHs1UQDaF9lajAhKo0fuVY3nco4PHRGiviYMmL8n2Bw6JfWBtF2dyjK6Vm3e0QQL0hFVtJP7icvD23fsPv/w6/HgF26PCL6Ycd5FRFN8Jha1QJyX8IOdBkOSHq7yY/VZCD5hF6n3LnWR3PMMQiNewjR+h1NfO+paiy36/ZeqEDTt3XEWJFM5cExQq3+Q5eT9vjFkfSlFxIO2naBwbM0ocn65kGki+dgw+eOLdyzO9d4dfZO9zTfaOKheoG6/R9Qlp78Ofs+p2+eWmuKQPD/zXu6ebpb4TiU5QHerMnDOE9ryvbCE8kFd6HoeqE6MbwBX6duBl9tYqlNqrHI1RrwI39Fo5VmiYsFgretJewl7N0Xh6fQxXYrf/yNB/ALjr1MYT/0x8XfO97V+c99swtpYK7htZMZJKey8WKLZil2h0AfHo4PzomLXNdY1GzlkXFBrjVlTEgSCWPm5h7+0ZBEZFoXTRp50P0U9CCRn09s0sNBB7yKYbaNhABmUItc96vYIql7qaLMcGSrXrYa17GyY01RYSWCJrnJm2JePbFvYcGxMggwp9IJZxfJQ6ecM6rGOhGSETDxvBMn08/vlehqfNeBy0l1fACeoYJnLHoHhVmb+7gxt/2qlybI+nNnfscjt3OjGnY1NJQNu5i1B0iMOzX20i4d2n+4kajkc/XoDPosRFMI8uQhVqYV4K/HbCuJQ1Oifr40Vsi2r4+/hGDdI+JM8kW61W6cI2qeNFrzvme7iozZtB2k/JpmWojOQUyVt4F2k/2r3zoUJ7VOQHi3u/emVunl/2aP/97xd/15CBnkKvNqit0Bjl2HRTtlvk4t+ljF82hc1GEDyw2W7l9fdGeiubPh6mKU5EAiVhQRyn5RutIYOrltk3E6kr4aaR+mcbaJvsTojb1OFfYx+PHGL8+X4CCcy6fzLCCWTAuJLNhSvIABJwUel24uXdBgzaRYMLiW1zyudvH2aGvg==
sidebar_class_name: "post api-method"
info_path: docs/provisioning-api/provisioning-rest-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Provisions a new device for the user"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/device"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Provisions a new device, creating both an Asset to represent it and a Service Account for the device to connect over MQTT. The asset type is selected based on the provided modelName. If none matches, an error is reported.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","required":["deviceId","password","modelName"],"properties":{"deviceId":{"type":"string","description":"ID of device","example":"123456789ABC"},"password":{"type":"string","description":"Password for service account","example":"s3cr3t"},"modelName":{"type":"string","description":"Model of device to provision","example":"orbattery"}}}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Information about a successfully provisioned device","content":{"application/json":{"schema":{"type":"object","required":["assetId","assetCreated","serviceUserCreated"],"properties":{"assetId":{"type":"string","description":"OpenRemote Asset ID","example":"6tXbmMvQLd2e7UrY5xLviR"},"assetCreated":{"type":"boolean","description":"Indicates if the battery asset was created by this call (true) or already existed (false)","example":true},"serviceUserCreated":{"type":"boolean","description":"Indicates if the service user was created by this call (true) or already existed (false)","example":true}}}}}},"401":{"description":"Access token is missing or invalid"},"403":{"description":"Principal is not allowed to perform this operation"}}}
>
  
</StatusCodes>


      