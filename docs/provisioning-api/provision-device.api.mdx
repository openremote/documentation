---
id: provision-device
title: "Provisions a new device for the user"
description: "Provisions a new device, creating both an Asset to represent it and a Service Account for the device to connect over MQTT. The asset type is selected based on the provided modelName. If none matches, an error is reported."
sidebar_label: "Provisions a new device for the user"
hide_title: true
hide_table_of_contents: true
api: eJzdVk1v20YQ/SuLOSUAQ8lWPlqeqthBIcBuFFsGWgg+jMiRuMlyl5ldShYE/fdiltSX1dRAkVN1oqjZmdn35r3RBlxNjEE7Oyogg5rdUnvt7DUtdU6QQEE+Z11LBGQw3v3uFSpLK1XEuETlTBi0XaiZC6VCq4beU1DBKaaayZMNSgeFtlCo7onllBrmuWtsUHPHKpTUJZNDubOW8qDckljdfplMUjUpSWGbdF2T0l55MpQHKtQMPRXK2ZgkXqGgQlWuIPMHVpSq0VxZZ0lVGPKSfCINErNjScNUOw5UpJAA0/eGfPjoijVkG8idDWSDPGJdG51HpHpfvYCxAZ+XVKE8SUuQgZt9pTx0eTRTAdkU2luNCkigRu9Xjgt4TATqmjho8pJgH3RI5gNruzijYHSt3LyDChKgJ6xqI/EXl4O3795/+OXX4ccr2B4VezHluIuMRPiOHGzJOSnhBzkPgiTfg/ty9lsJPfQs9O7H7CS74xmGQLyGbfwIjL521rcQXfb7LVInaNi54yrSonDmmqBQ+SbPyft5Y8z6UIqKA2g/hdc4jJHW+HQlCiD52iH44Il3L8/43h1+Eb3PNdk7qlygTlKj6xPQ3oc/Z9Xt8stNcUkfHvivd083S30nFJ10dagzc84Q2vO5soXgQF7peRRSR0YnuhX6VuSit7UKpfYqR2PUq8ANvVaOFRomLNaKnrSXsFdzNJ5eH7crsdt/ROg/NLib1MYT/8z+uuF72784n7dhHC0V3DeyYh6V9l5sT6zELtHoAuLRwfnRMWub6xqNnLMuKDTGraiIgiCWOW7b3lsySBsVhdJFb3Y+RA8JJWTQ2w+zwEDsIZtuoGEDGZQh1D7r9QqqXOpqshwHKNWuh7XubZjQVFtIYImscWbakYxv27bn2JgAGVToA7HI8VHq5A3rsI6FZoRMPGykl+nj8c/3Ip4243HQnl5pTrqOYUJ3DIpXFf3dHRz4046VY3s8tbljl9u504k5HZtKAtrOXWxFhyie/ToTCu8+3U/UcDz68dJ7FiUugnl0EapQC/JS4LcTxKWs0TlZHy9i266Gv49v1CDtQ/KMstVqlS5skzpe9LpjvoeL2rwZpP2UbFqGykhOobxt7yLtR7t3PlRoj4r8YFnv163o5vllj3be/37ZdwMZ6Cn0aoPaCoyRjk2nst3yFv8uRX7ZFDYb6eCBzXYrr783MlvZ9PGgpqiIBErCgjiq5RutIYOrFtk3E6kr4aaR+mcbaJvsTojb1OFfYx+PHGL8+X4CCcy6fy+CCWTAuJLNhSvIABJwkelW8fJuAwbtosGFxLY55fM3JViCvA==
sidebar_class_name: "post api-method"
info_path: docs/provisioning-api/provisioning-rest-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Provisions a new device for the user"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/device"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Provisions a new device, creating both an Asset to represent it and a Service Account for the device to connect over MQTT. The asset type is selected based on the provided modelName. If none matches, an error is reported.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","required":["deviceId","password"],"properties":{"deviceId":{"type":"string","description":"ID of device","example":"123456789ABC"},"password":{"type":"string","description":"Password for service account","example":"s3cr3t"},"modelName":{"type":"string","description":"Model of device to provision","example":"orbattery"}}}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Information about a successfully provisioned device","content":{"application/json":{"schema":{"type":"object","required":["assetId","assetCreated","serviceUserCreated"],"properties":{"assetId":{"type":"string","description":"OpenRemote Asset ID","example":"6tXbmMvQLd2e7UrY5xLviR"},"assetCreated":{"type":"boolean","description":"Indicates if the battery asset was created by this call (true) or already existed (false)","example":true},"serviceUserCreated":{"type":"boolean","description":"Indicates if the service user was created by this call (true) or already existed (false)","example":true}}}}}},"401":{"description":"Access token is missing or invalid"},"403":{"description":"Principal is not allowed to perform this operation"}}}
>
  
</StatusCodes>


      