---
id: provisions-a-new-device-for-the-user
title: "Provisions a new device for the user"
description: "Provisions a new device, creating both an Asset to represent it and a Service Account for the device to connect over MQTT. The asset type is selected based on the provided modelName. If none matches, an error is reported."
sidebar_label: "Provisions a new device for the user"
hide_title: true
hide_table_of_contents: true
api: eJzdVl1v2zYU/SvEfWoBVXbifmx6mpsWQ7BkcRMHWBHkgaauLbYUyV5SdgzD/324lOzIcbsMQ5+mJ4W5XzrnnkNvoMSgSPuonYUCJuSWOmhng5DC4kqUuNQKM6EIZdR2IWYuVkJaMQ4Bo4hOEHrCgDYKHYW0pZDiBomzxFgp19go5o5ErLArxknKWYsqCrdEEpefptNcTCsUsi269ih0EAENqoilmMmApXA2FfE8YomlqF2J5k9ZYy7O58I6i6KWUVUYMh4QiRxxGULvKGKZQwaE3xoM8b0r11BsQDkb0UZ+ld4brSTjMPgSGIwNBFVhLfmNR4IC3OwLqtjV0YQlFHfQftV5CRl4GcLKUQn3GXhyHilqDFxgH/RYLETSdgHZEwrOPwg376CCDPBB1t5w/Mnp6PWbt+9++XX8/gy2vWbPlpx0kYmI0JEjW3IOWoSRolHk4ntwn69+yaGPMzO9frdGB9UdzWSMSGvYpodhDN7Z0EJ0Ohy2SPWLX/0B2b+n6afwmZYw0Zneznjzkf/skLsNSLvDI553yc+iduXRXmPtInZSOv9wANbb+Nesvlx+uihP8d0tfX7zcLHU10zNwVSPfWbOGZT2eJ9syThgEHqeBNSR0IltJUMrbtbZWsRKB6GkMeJFpAZfCkdCGkJZrgU+6MBhL+bSBHzZH5djt99F6D8MuNvQJiD9zPl2TwavhyfHqzZWCkMQ0X1Fy75R6xDY8dhF7FIaXUJKHR2nTkhbpb00nGddFNIYt8IyaQFp7qhuJ+dVSTsJPEaNsXIlFOBdiMk+YgUFDPbiZySQAhR3G2jIQAFVjD4Ug0GJtcudR0tph3LtBtLrwYZQmno7gAyWkrScmXYt03E791w2JkIBtQwRiaV4z41UQzquU6cZSkIaNzzM3X3/3zcsoLZiP2hPMU/HY6cwpjwFpW9lDV4/uu/HHTN9azy0uL7D7ZzpwJj6hpKBtnOXRtExCWh/lTGH1x9vpmI8OT+2xh9EsZNIlZwEa6kZem7w2wHk3NZohTakD7HtVOPfJxdilA8he8LZarXKF7bJHS0GXVoYyIU3r0b5MEebV7E2XJM5b8c7yYfJ6l2ItbS9Jj+4qPdXLWvn6cf2/PF/f9F3CxnxIQ68kdoyjImOTSez3cXNHl6x/oo72Gx4glsy2y0ff2t4t4q7+0c1JUVkUKEskZJavuIaCjhrkX015b4cbhruf3QLbbNdBtuNj/8Ye9+ziMnVzRQymHW/XBgTKIDkim8vuYICIAOXmG4Vz2cbMNIuGrng2LYmP38DY6V0Qg==
sidebar_class_name: "post api-method"
info_path: docs/provisioning-api/provisioning-rest-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Provisions a new device for the user"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/device"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Provisions a new device, creating both an Asset to represent it and a Service Account for the device to connect over MQTT. The asset type is selected based on the provided modelName. If none matches, an error is reported.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","required":["deviceId","password"],"properties":{"deviceId":{"type":"string","description":"ID of device","example":"123456789ABC"},"password":{"type":"string","description":"Password for service account","example":"s3cr3t"},"modelName":{"type":"string","description":"Model of device to provision","example":"orbattery"}}}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"OK","content":{"application/json":{"schema":{"content":{"application/json":{"schema":{"type":"object","required":["assetId","assetCreated","serviceUserCreated"],"properties":{"assetId":{"type":"string","description":"OpenRemote Asset ID","example":"6tXbmMvQLd2e7UrY5xLviR"},"assetCreated":{"type":"boolean","description":"Indicates if the battery asset was created by this call (true) or already existed (false)","example":true},"serviceUserCreated":{"type":"boolean","description":"Indicates if the service user was created by this call (true) or already existed (false)","example":true}}}}}}}}},"401":{"description":"Access token is missing or invalid"},"403":{"description":"Principal is not allowed to perform this operation"}}}
>
  
</StatusCodes>


      